<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.motion.widget.MotionLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layoutDescription="@xml/collapsing_toolbar"
>
    <ImageView
            android:id="@+id/toolbar_image"
            android:layout_width="0dp"
            android:layout_height="200dp"
            android:adjustViewBounds="true"
            android:contentDescription="@null"
            android:background="@color/warmPurple"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            android:fitsSystemWindows="true"
            android:scaleType="fitCenter"
            app:srcCompat="@drawable/logo_navbar" android:padding="30dp"/>

    <ImageView
            android:id="@+id/ivBack"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:paddingStart="16dp"
            android:paddingEnd="16dp"
            android:paddingTop="16dp"
            android:paddingBottom="16dp"
            android:src="@drawable/ic_arrow_back_black_24dp"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"/>

    <TextView
            android:id="@+id/tvProductCategory"
            android:text="Texto realmente"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:textSize="20sp"
            app:layout_constraintTop_toTopOf="@+id/ivBack"
            app:layout_constraintBottom_toBottomOf="@+id/ivBack"
            app:layout_constraintStart_toEndOf="@+id/ivBack"
            app:layout_constraintEnd_toEndOf="parent"
            android:textColor="@color/whiter"
            android:layout_marginStart="8dp"
            android:fontFamily="sans-serif-medium"/>
    <androidx.core.widget.NestedScrollView
            android:id="@+id/svProductDescription"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/toolbar_image">
        <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content">
            <TextView
                    android:id="@+id/tvProdcutName"
                    android:text="If we view this in the design tool, we can see that this represents the layout when the toolbar is in its expanded state:"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    app:layout_constraintTop_toTopOf="parent" app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintEnd_toEndOf="parent" android:fontFamily="@font/roboto_bold"
                    android:textSize="17sp" android:layout_marginStart="16dp" android:layout_marginEnd="16dp"
                    android:layout_marginTop="16dp"/>
            <androidx.appcompat.widget.AppCompatImageView
                    android:id="@+id/divider1"
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    app:srcCompat="@drawable/shape_list_inner_boundary"
                    tools:layout_editor_absoluteX="-16dp" app:layout_constraintTop_toBottomOf="@+id/tvProdcutName"
                    android:layout_marginTop="16dp"/>
            <androidx.appcompat.widget.AppCompatImageView
                    android:id="@+id/divider2"
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    app:srcCompat="@drawable/shape_list_inner_boundary"
                    tools:layout_editor_absoluteX="-16dp" app:layout_constraintTop_toBottomOf="@+id/tvProductPrice2"
                    android:layout_marginTop="8dp"/>
            <TextView
                    android:id="@+id/tvProductPriceFrom2"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    tools:text="De: 9999,99" android:fontFamily="@font/roboto_medium" android:textSize="12sp"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@+id/divider1"
                    app:layout_constraintBottom_toBottomOf="@id/divider2" android:layout_marginStart="16dp"/>
            <TextView
                    android:id="@+id/tvProductPrice2"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:gravity="end"
                    tools:text="Por 9999,98"
                    android:fontFamily="@font/roboto_bold"
                    android:textSize="20sp"
                    android:textColor="@color/tomato"
                    app:layout_constraintTop_toBottomOf="@+id/divider1"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toEndOf="@+id/tvProductPriceFrom2"
                    android:layout_marginStart="8dp"
                    android:layout_marginTop="8dp" android:layout_marginEnd="16dp"/>
            <TextView
                    android:text="Lorem Ipsum"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:id="@+id/tvAlgumaCoisa"
                    app:layout_constraintTop_toBottomOf="@+id/divider2"
                    app:layout_constraintEnd_toEndOf="parent" app:layout_constraintStart_toStartOf="parent"
                    android:layout_marginTop="16dp" android:layout_marginStart="16dp" android:layout_marginEnd="16dp"/>
            <TextView
                    android:text="Before we begin it is worth mentioning that there is nothing whatsoever \n \n wrong with using CollapsingToolbarLayout inside a CoordinatorLayout to achieve this behaviour.
                    \n Moreover, if you already have that working in an app then there is little to be gained by changing. That said, which CoordinatorLayout provides some really useful behaviours, trying to tweak them or even create your own custom behaviours is quite difficult.
                    \n It is those situations where MotionLayout may provide far greater flexibility and, my early experiments would suggest, a far easier path to achieving what you want. Furthermore, MotionLayout opens up new behaviours that would be really difficult with CoordinatorLayout.  One of the key differences between MotionLayout and many of the other animation frameworks on Android is that view animations and property animations run for a given duration. While it is possible to specify the duration and cancel a running animation, it is not possible to control a running animation based upon user input. For example, a Collapsing Toolbar should expand and collapse based upon the user scrolling, and the actual animation should follow the user’s drag. This is simply not possible with those frameworks.
                    \n Let’s begin by taking a look at the behaviour that we’re trying to emulate. Here’s a Collapsing Toolbar which is implemented using CollapsingToolbarLayout from the Material Components Library and CoordinatorLayout:"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content" android:id="@+id/tvProductDescription"
                    android:layout_marginTop="16dp"
                    app:layout_constraintTop_toBottomOf="@+id/tvAlgumaCoisa"
                    app:layout_constraintStart_toStartOf="parent" app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintBottom_toBottomOf="parent" android:fontFamily="@font/roboto"
                    android:layout_marginStart="16dp" android:layout_marginEnd="16dp"/>
        </androidx.constraintlayout.widget.ConstraintLayout>
    </androidx.core.widget.NestedScrollView>
    <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:clickable="true" app:srcCompat="@drawable/check_button" android:id="@+id/fabReserve"
            android:layout_marginBottom="16dp" app:layout_constraintBottom_toBottomOf="parent"
            android:layout_marginEnd="16dp" app:layout_constraintEnd_toEndOf="parent"
            app:backgroundTint="@color/warmPurple"/>

</androidx.constraintlayout.motion.widget.MotionLayout>